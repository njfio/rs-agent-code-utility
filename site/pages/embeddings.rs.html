<!doctype html>
<html>
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>embeddings.rs</title>
<link rel="stylesheet" href="../assets/style.css">
<script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
<script>mermaid.initialize({ startOnLoad: true, theme: 'dark' });</script>
</head>
<body>
<header><h1>embeddings.rs</h1></header>
<main>
<section class="article">
<p>98 symbols, 424 lines</p>
<div class="card"><h3>Control Flow</h3><div class="mermaid">flowchart TB
  start(["Start"])
  end(["End"])
  start --> F0
  F0(["default"])
  F0 --> F1
  F1(["new"])
  F1 --> F2
  F2(["with_metadata"])
  F2 --> F3
  F3(["dimension"])
  F3 --> F4
  F4(["cosine_similarity"])
  F4 --> F5
  F5(["fmt"])
  F5 --> F6
  F6(["new"])
  F6 --> F7
  F7(["initialize"])
  F7 --> F8
  F8(["embed_batch"])
  F8 --> F9
  F9(["embed"])
  F9 --> F10
  F10(["process_batch"])
  F10 --> F11
  F11(["mean_pooling"])
  F11 --> F12
  F12(["calculate_similarity"])
  F12 --> F13
  F13(["find_most_similar"])
  F13 --> F14
  F14(["test_embedding_creation"])
  F14 --> F15
  F15(["test_cosine_similarity"])
  F15 --> F16
  F16(["test_embedding_config_default"])
  F16 --> F17
  F17(["test_embedding_with_metadata"])
  F17 --> F18
  F18(["test_cosine_similarity_edge_cases"])
  F18 --> F19
  F19(["test_embedding_engine_creation"])
  F19 --> F20
  F20(["test_semantic_similarity_examples"])
  F20 --> F21
  F21(["test_dissimilar_texts"])
  F21 --> F22
  F22(["EmbeddingConfig"])
  F22 --> F23
  F23(["Embedding"])
  F23 --> F24
  F24(["EmbeddingEngine"])
  F24 --> F25
  F25(["EmbeddingConfig"])
  F25 --> F26
  F26(["Embedding"])
  F26 --> F27
  F27(["EmbeddingEngine"])
  F27 --> F28
  F28(["EmbeddingEngine"])
  F28 --> F29
  F29(["dot_product"])
  F29 --> F30
  F30(["norm_a"])
  F30 --> F31
  F31(["norm_b"])
  F31 --> F32
  F32(["device"])
  F32 --> F33
  F33(["api"])
  F33 --> F34
  F34(["repo"])
  F34 --> F35
  F35(["tokenizer_filename"])
  F35 --> F36
  F36(["config_filename"])
  F36 --> F37
  F37(["config_content"])
  F37 --> F38
  F38(["weights_filename"])
  F38 --> F39
  F39(["vb"])
  F39 --> F40
  F40(["model"])
  F40 --> F41
  F41(["tokenizer"])
  F41 --> F42
  F42(["embeddings"])
  F42 --> F43
  F43(["batch_embeddings"])
  F43 --> F44
  F44(["embeddings"])
  F44 --> F45
  F45(["encodings"])
  F45 --> F46
  F46(["input_ids"])
  F46 --> F47
  F47(["attention_masks"])
  F47 --> F48
  F48(["ids"])
  F48 --> F49
  F49(["attention_mask"])
  F49 --> F50
  F50(["padded_ids"])
  F50 --> F51
  F51(["padded_mask"])
  F51 --> F52
  F52(["copy_len"])
  F52 --> F53
  F53(["input_ids_tensor"])
  F53 --> F54
  F54(["attention_mask_tensor"])
  F54 --> F55
  F55(["outputs"])
  F55 --> F56
  F56(["embeddings_tensor"])
  F56 --> F57
  F57(["embeddings_data"])
  F57 --> F58
  F58(["result"])
  F58 --> F59
  F59(["embedding"])
  F59 --> F60
  F60(["expanded_mask"])
  F60 --> F61
  F61(["masked_embeddings"])
  F61 --> F62
  F62(["sum_embeddings"])
  F62 --> F63
  F63(["sum_mask"])
  F63 --> F64
  F64(["mean_embeddings"])
  F64 --> F65
  F65(["embedding1"])
  F65 --> F66
  F66(["embedding2"])
  F66 --> F67
  F67(["query_embedding"])
  F67 --> F68
  F68(["candidate_embeddings"])
  F68 --> F69
  F69(["best_match"])
  F69 --> F70
  F70(["best_score"])
  F70 --> F71
  F71(["similarity"])
  F71 --> F72
  F72(["vector"])
  F72 --> F73
  F73(["text"])
  F73 --> F74
  F74(["embedding"])
  F74 --> F75
  F75(["embedding1"])
  F75 --> F76
  F76(["embedding2"])
  F76 --> F77
  F77(["embedding3"])
  F77 --> F78
  F78(["similarity1"])
  F78 --> F79
  F79(["similarity2"])
  F79 --> F80
  F80(["config"])
  F80 --> F81
  F81(["vector"])
  F81 --> F82
  F82(["text"])
  F82 --> F83
  F83(["embedding"])
  F83 --> F84
  F84(["zero1"])
  F84 --> F85
  F85(["zero2"])
  F85 --> F86
  F86(["normal"])
  F86 --> F87
  F87(["dim3"])
  F87 --> F88
  F88(["dim4"])
  F88 --> F89
  F89(["config"])
  F89 --> F90
  F90(["engine"])
  F90 --> F91
  F91(["similar_texts"])
  F91 --> F92
  F92(["embedding1"])
  F92 --> F93
  F93(["embedding2"])
  F93 --> F94
  F94(["similarity"])
  F94 --> F95
  F95(["embedding1"])
  F95 --> F96
  F96(["embedding2"])
  F96 --> F97
  F97(["similarity"])
  F97 --> end

</div></div>
<div class="card"><h3>Call Sequence</h3><div class="mermaid">sequenceDiagram
  participant default
  participant new
  participant with_metadata
  participant dimension
  participant cosine_similarity
  participant fmt
  participant new
  participant initialize
  participant embed_batch
  participant embed
  participant process_batch
  participant mean_pooling
  participant calculate_similarity
  participant find_most_similar
  participant test_embedding_creation
  participant test_cosine_similarity
  participant test_embedding_config_default
  participant test_embedding_with_metadata
  participant test_cosine_similarity_edge_cases
  participant test_embedding_engine_creation
  participant test_semantic_similarity_examples
  participant test_dissimilar_texts
  default->>new: call
  new->>with_metadata: call
  with_metadata->>dimension: call
  dimension->>cosine_similarity: call
  cosine_similarity->>fmt: call
  fmt->>new: call
  new->>initialize: call
  initialize->>embed_batch: call
  embed_batch->>embed: call
  embed->>process_batch: call
  process_batch->>mean_pooling: call
  mean_pooling->>calculate_similarity: call
  calculate_similarity->>find_most_similar: call
  find_most_similar->>test_embedding_creation: call
  test_embedding_creation->>test_cosine_similarity: call
  test_cosine_similarity->>test_embedding_config_default: call
  test_embedding_config_default->>test_embedding_with_metadata: call
  test_embedding_with_metadata->>test_cosine_similarity_edge_cases: call
  test_cosine_similarity_edge_cases->>test_embedding_engine_creation: call
  test_embedding_engine_creation->>test_semantic_similarity_examples: call
  test_semantic_similarity_examples->>test_dissimilar_texts: call

</div></div>
<div class="card"><h3>Symbols</h3>
<ul>
<li id="symbol-default"><code>default</code> <small>function</small></li>
<li id="symbol-new"><code>new</code> <small>function</small></li>
<li id="symbol-with_metadata"><code>with_metadata</code> <small>function</small></li>
<li id="symbol-dimension"><code>dimension</code> <small>function</small></li>
<li id="symbol-cosine_similarity"><code>cosine_similarity</code> <small>function</small></li>
<li id="symbol-fmt"><code>fmt</code> <small>function</small></li>
<li id="symbol-new"><code>new</code> <small>function</small></li>
<li id="symbol-initialize"><code>initialize</code> <small>function</small></li>
<li id="symbol-embed_batch"><code>embed_batch</code> <small>function</small></li>
<li id="symbol-embed"><code>embed</code> <small>function</small></li>
<li id="symbol-process_batch"><code>process_batch</code> <small>function</small></li>
<li id="symbol-mean_pooling"><code>mean_pooling</code> <small>function</small></li>
<li id="symbol-calculate_similarity"><code>calculate_similarity</code> <small>function</small></li>
<li id="symbol-find_most_similar"><code>find_most_similar</code> <small>function</small></li>
<li id="symbol-test_embedding_creation"><code>test_embedding_creation</code> <small>function</small></li>
<li id="symbol-test_cosine_similarity"><code>test_cosine_similarity</code> <small>function</small></li>
<li id="symbol-test_embedding_config_default"><code>test_embedding_config_default</code> <small>function</small></li>
<li id="symbol-test_embedding_with_metadata"><code>test_embedding_with_metadata</code> <small>function</small></li>
<li id="symbol-test_cosine_similarity_edge_cases"><code>test_cosine_similarity_edge_cases</code> <small>function</small></li>
<li id="symbol-test_embedding_engine_creation"><code>test_embedding_engine_creation</code> <small>function</small></li>
<li id="symbol-test_semantic_similarity_examples"><code>test_semantic_similarity_examples</code> <small>function</small></li>
<li id="symbol-test_dissimilar_texts"><code>test_dissimilar_texts</code> <small>function</small></li>
<li id="symbol-embeddingconfig"><code>EmbeddingConfig</code> <small>struct</small></li>
<li id="symbol-embedding"><code>Embedding</code> <small>struct</small></li>
<li id="symbol-embeddingengine"><code>EmbeddingEngine</code> <small>struct</small></li>
<li id="symbol-embeddingconfig"><code>EmbeddingConfig</code> <small>impl</small></li>
<li id="symbol-embedding"><code>Embedding</code> <small>impl</small></li>
<li id="symbol-embeddingengine"><code>EmbeddingEngine</code> <small>impl</small></li>
<li id="symbol-embeddingengine"><code>EmbeddingEngine</code> <small>impl</small></li>
<li id="symbol-dot_product"><code>dot_product</code> <small>variable</small></li>
<li id="symbol-norm_a"><code>norm_a</code> <small>variable</small></li>
<li id="symbol-norm_b"><code>norm_b</code> <small>variable</small></li>
<li id="symbol-device"><code>device</code> <small>variable</small></li>
<li id="symbol-api"><code>api</code> <small>variable</small></li>
<li id="symbol-repo"><code>repo</code> <small>variable</small></li>
<li id="symbol-tokenizer_filename"><code>tokenizer_filename</code> <small>variable</small></li>
<li id="symbol-config_filename"><code>config_filename</code> <small>variable</small></li>
<li id="symbol-config_content"><code>config_content</code> <small>variable</small></li>
<li id="symbol-weights_filename"><code>weights_filename</code> <small>variable</small></li>
<li id="symbol-vb"><code>vb</code> <small>variable</small></li>
<li id="symbol-model"><code>model</code> <small>variable</small></li>
<li id="symbol-tokenizer"><code>tokenizer</code> <small>variable</small></li>
<li id="symbol-embeddings"><code>embeddings</code> <small>variable</small></li>
<li id="symbol-batch_embeddings"><code>batch_embeddings</code> <small>variable</small></li>
<li id="symbol-embeddings"><code>embeddings</code> <small>variable</small></li>
<li id="symbol-encodings"><code>encodings</code> <small>variable</small></li>
<li id="symbol-input_ids"><code>input_ids</code> <small>variable</small></li>
<li id="symbol-attention_masks"><code>attention_masks</code> <small>variable</small></li>
<li id="symbol-ids"><code>ids</code> <small>variable</small></li>
<li id="symbol-attention_mask"><code>attention_mask</code> <small>variable</small></li>
<li id="symbol-padded_ids"><code>padded_ids</code> <small>variable</small></li>
<li id="symbol-padded_mask"><code>padded_mask</code> <small>variable</small></li>
<li id="symbol-copy_len"><code>copy_len</code> <small>variable</small></li>
<li id="symbol-input_ids_tensor"><code>input_ids_tensor</code> <small>variable</small></li>
<li id="symbol-attention_mask_tensor"><code>attention_mask_tensor</code> <small>variable</small></li>
<li id="symbol-outputs"><code>outputs</code> <small>variable</small></li>
<li id="symbol-embeddings_tensor"><code>embeddings_tensor</code> <small>variable</small></li>
<li id="symbol-embeddings_data"><code>embeddings_data</code> <small>variable</small></li>
<li id="symbol-result"><code>result</code> <small>variable</small></li>
<li id="symbol-embedding"><code>embedding</code> <small>variable</small></li>
<li id="symbol-expanded_mask"><code>expanded_mask</code> <small>variable</small></li>
<li id="symbol-masked_embeddings"><code>masked_embeddings</code> <small>variable</small></li>
<li id="symbol-sum_embeddings"><code>sum_embeddings</code> <small>variable</small></li>
<li id="symbol-sum_mask"><code>sum_mask</code> <small>variable</small></li>
<li id="symbol-mean_embeddings"><code>mean_embeddings</code> <small>variable</small></li>
<li id="symbol-embedding1"><code>embedding1</code> <small>variable</small></li>
<li id="symbol-embedding2"><code>embedding2</code> <small>variable</small></li>
<li id="symbol-query_embedding"><code>query_embedding</code> <small>variable</small></li>
<li id="symbol-candidate_embeddings"><code>candidate_embeddings</code> <small>variable</small></li>
<li id="symbol-best_match"><code>best_match</code> <small>variable</small></li>
<li id="symbol-best_score"><code>best_score</code> <small>variable</small></li>
<li id="symbol-similarity"><code>similarity</code> <small>variable</small></li>
<li id="symbol-vector"><code>vector</code> <small>variable</small></li>
<li id="symbol-text"><code>text</code> <small>variable</small></li>
<li id="symbol-embedding"><code>embedding</code> <small>variable</small></li>
<li id="symbol-embedding1"><code>embedding1</code> <small>variable</small></li>
<li id="symbol-embedding2"><code>embedding2</code> <small>variable</small></li>
<li id="symbol-embedding3"><code>embedding3</code> <small>variable</small></li>
<li id="symbol-similarity1"><code>similarity1</code> <small>variable</small></li>
<li id="symbol-similarity2"><code>similarity2</code> <small>variable</small></li>
<li id="symbol-config"><code>config</code> <small>variable</small></li>
<li id="symbol-vector"><code>vector</code> <small>variable</small></li>
<li id="symbol-text"><code>text</code> <small>variable</small></li>
<li id="symbol-embedding"><code>embedding</code> <small>variable</small></li>
<li id="symbol-zero1"><code>zero1</code> <small>variable</small></li>
<li id="symbol-zero2"><code>zero2</code> <small>variable</small></li>
<li id="symbol-normal"><code>normal</code> <small>variable</small></li>
<li id="symbol-dim3"><code>dim3</code> <small>variable</small></li>
<li id="symbol-dim4"><code>dim4</code> <small>variable</small></li>
<li id="symbol-config"><code>config</code> <small>variable</small></li>
<li id="symbol-engine"><code>engine</code> <small>variable</small></li>
<li id="symbol-similar_texts"><code>similar_texts</code> <small>variable</small></li>
<li id="symbol-embedding1"><code>embedding1</code> <small>variable</small></li>
<li id="symbol-embedding2"><code>embedding2</code> <small>variable</small></li>
<li id="symbol-similarity"><code>similarity</code> <small>variable</small></li>
<li id="symbol-embedding1"><code>embedding1</code> <small>variable</small></li>
<li id="symbol-embedding2"><code>embedding2</code> <small>variable</small></li>
<li id="symbol-similarity"><code>similarity</code> <small>variable</small></li>

</ul>
</div>
</section>
</main>
</body>
</html>